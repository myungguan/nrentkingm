{"version":3,"sources":["rentking.w.js"],"names":["$","$header","document","on","addClass","removeClass","calculateScrollTop","innerHeight","contentHeight","scrollBarHeight","scrollTop","calculateScrollTopReverse","scrolling","e","stopPropagation","$scrollWrap","this","data","$scrollWrapInner","find","$scrollWrapBar","append","trigger","$scrollWrapContent","setTimeout","outerHeight","top","css","height","$this","$scrollBar","$wrap","$inner","max","from","x","pageX","y","pageY","preventDefault","window"],"mappings":"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","file":"rentking.w.min.js","sourcesContent":["$(function() {\r\n\t/**\r\n\t * header\r\n\t */\r\n\t(function() {\r\n\t\tvar $header = $('header');\r\n\t\t$(document)\r\n\t\t\t.on('mouseenter focus', 'header ul.menu a', function() {\r\n\t\t\t\t$header.addClass('on');\r\n\t\t\t})\r\n\t\t\t.on('mouseleave', 'header', function() {\r\n\t\t\t\t$header.removeClass('on');\r\n\t\t\t})\r\n\t\t\t.on('blur', 'header a', function() {\r\n\t\t\t\t$header.removeClass('on');\r\n\t\t\t});\r\n\t})();\r\n\r\n\t/**\r\n\t * scroll wrap\r\n\t */\r\n\t(function() {\r\n\t\tvar calculateScrollTop = function(innerHeight, contentHeight, scrollBarHeight, scrollTop) {\r\n\t\t\tvar maxScrollTop = contentHeight - innerHeight;\r\n\t\t\tvar maxVirtualScrolltop = innerHeight - scrollBarHeight;\r\n\r\n\t\t\treturn scrollTop * maxVirtualScrolltop / maxScrollTop;\r\n\t\t};\r\n\t\tvar calculateScrollTopReverse = function(innerHeight, contentHeight, scrollBarHeight, scrollTop) {\r\n\t\t\tvar maxScrollTop = contentHeight - innerHeight;\r\n\t\t\tvar maxVirtualScrolltop = innerHeight - scrollBarHeight;\r\n\r\n\t\t\treturn scrollTop * maxScrollTop / maxVirtualScrolltop;\r\n\t\t};\r\n\r\n\t\tvar scrolling = null;\r\n\t\t$(document)\r\n\t\t\t.on('init', '.scrollWrap', function(e) {\r\n\t\t\t\te.stopPropagation();\r\n\r\n\t\t\t\tvar $scrollWrap = $(this);\r\n\r\n\t\t\t\tif(!$scrollWrap.data('init')) {\r\n\t\t\t\t\t$scrollWrap.data('init', true);\r\n\t\t\t\t\tvar $scrollWrapInner = $scrollWrap.find('.scrollWrapInner');\r\n\t\t\t\t\tvar $scrollWrapBar = $('<span class=\"scrollWrapBar\"></span>');\r\n\r\n\t\t\t\t\t$scrollWrapInner.data('scrollWrap', $scrollWrap);\r\n\t\t\t\t\t$scrollWrapInner.data('scrollWrapBar', $scrollWrapBar);\r\n\t\t\t\t\t$scrollWrap.append($scrollWrapBar);\r\n\t\t\t\t\t$scrollWrap.trigger('resizeScrollBar');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.on('resizeScrollBar', '.scrollWrap', function(e) {\r\n\t\t\t\te.stopPropagation();\r\n\r\n\t\t\t\tvar $scrollWrap = $(this);\r\n\t\t\t\tvar $scrollWrapInner = $scrollWrap.find('.scrollWrapInner');\r\n\t\t\t\tvar $scrollWrapContent = $scrollWrap.find('.scrollWrapContent');\r\n\t\t\t\tvar $scrollWrapBar = $scrollWrap.find('.scrollWrapBar');\r\n\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tvar innerHeight = $scrollWrapInner.outerHeight();\r\n\t\t\t\t\tvar contentHeight = $scrollWrapContent.outerHeight();\r\n\t\t\t\t\tvar scrollBarHeight = innerHeight * innerHeight / contentHeight;\r\n\t\t\t\t\tif(scrollBarHeight < 50)\r\n\t\t\t\t\t\tscrollBarHeight = 50;\r\n\r\n\t\t\t\t\t$scrollWrapBar.data('scrollWrap', $scrollWrap);\r\n\t\t\t\t\t$scrollWrapBar.data('scrollWrapInner', $scrollWrapInner);\r\n\t\t\t\t\t$scrollWrapBar.data('innerHeight', innerHeight);\r\n\t\t\t\t\t$scrollWrapBar.data('contentHeight', contentHeight);\r\n\t\t\t\t\t$scrollWrapBar.data('scrollBarHeight', scrollBarHeight);\r\n\t\t\t\t\t$scrollWrapBar.data('top', $scrollWrapInner.scrollTop());\r\n\r\n\t\t\t\t\tif(innerHeight >= contentHeight) {\r\n\t\t\t\t\t\t$scrollWrap.addClass('noscroll');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$scrollWrap.removeClass('noscroll');\r\n\t\t\t\t\t\tvar top = calculateScrollTop(innerHeight, contentHeight, scrollBarHeight, $scrollWrapInner.scrollTop());\r\n\t\t\t\t\t\t$scrollWrapBar.data('top', top).css({height: scrollBarHeight, top: top});\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 100);\r\n\r\n\t\t\t})\r\n\t\t\t.on('mousedown', '.scrollWrapBar', function(e) {\r\n\t\t\t\te.stopPropagation();\r\n\r\n\t\t\t\tvar $this = $(this);\r\n\t\t\t\tscrolling = {\r\n\t\t\t\t\t$scrollBar: $this,\r\n\t\t\t\t\t$wrap: $this.data('scrollWrap'),\r\n\t\t\t\t\t$inner: $this.data('scrollWrapInner'),\r\n\t\t\t\t\tmax: $this.data('innerHeight') - $this.data('scrollBarHeight'),\r\n\t\t\t\t\tinnerHeight: $this.data('innerHeight'),\r\n\t\t\t\t\tcontentHeight: $this.data('contentHeight'),\r\n\t\t\t\t\tscrollBarHeight: $this.data('scrollBarHeight'),\r\n\t\t\t\t\tfrom: {\r\n\t\t\t\t\t\tx: e.pageX,\r\n\t\t\t\t\t\ty: e.pageY,\r\n\t\t\t\t\t\ttop: $this.data('top')\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tscrolling.$wrap.addClass('on');\r\n\t\t\t})\r\n\t\t\t.on('mousemove', function(e) {\r\n\t\t\t\tif(scrolling) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\tvar $scrollBar = scrolling.$scrollBar;\r\n\t\t\t\t\tvar y = e.pageY - scrolling.from.y;\r\n\t\t\t\t\tvar top = scrolling.from.top + y;\r\n\t\t\t\t\tif(top < 0) top = 0;\r\n\t\t\t\t\tif(top > scrolling.max) top = scrolling.max;\r\n\r\n\t\t\t\t\t$scrollBar.css({top: top});\r\n\t\t\t\t\tscrolling.$inner.scrollTop(calculateScrollTopReverse(scrolling.innerHeight, scrolling.contentHeight, scrolling.scrollBarHeight, top));\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.on('mouseup', function(e) {\r\n\t\t\t\tif(scrolling) {\r\n\t\t\t\t\tscrolling.$wrap.removeClass('on');\r\n\t\t\t\t}\r\n\t\t\t\tscrolling = null;\r\n\t\t\t})\r\n\t\t;\r\n\r\n\t\t$(window).on('resize', function(e) {\r\n\t\t\t$('.scrollWrap').trigger('resizeScrollBar');\r\n\t\t});\r\n\t\t$('.scrollWrapInner').on('scroll', function(e) {\r\n\t\t\tvar $scrollWrapInner = $(this);\r\n\t\t\tvar $scrollWrapBar = $scrollWrapInner.data('scrollWrapBar');\r\n\t\t\tvar innerHeight = $scrollWrapBar.data('innerHeight');\r\n\t\t\tvar contentHeight = $scrollWrapBar.data('contentHeight');\r\n\t\t\tvar scrollBarHeight = $scrollWrapBar.data('scrollBarHeight');\r\n\t\t\tvar scrollTop = $scrollWrapInner.scrollTop();\r\n\r\n\t\t\tvar top = calculateScrollTop(innerHeight, contentHeight, scrollBarHeight, scrollTop);\r\n\t\t\t$scrollWrapBar.data('top', top).css({top: top});\r\n\t\t});\r\n\r\n\t\t$('.scrollWrap').trigger('init');\r\n\t})();\r\n});\r\n"],"sourceRoot":"../../src/js"}