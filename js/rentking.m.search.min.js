/**
  * Date: 2017-04-26
 */
$(function(){var a=$("#searchWrap"),e=($("#searchMap"),a.find("#searchForm")),s=a.find(".map-wrap"),t=(s.find(".map-point-wrap"),$(".list-content-wrap")),r=t.find(".list-scroll-inner"),i=r.find(".list-scroll-content");$(window).on("resize",function(){searchMap.map&&searchMap.center&&(clearTimeout(searchMap.timeout),searchMap.timeout=setTimeout(function(){searchMap.map.panTo(searchMap.center)},300))}),$(document).on("click",".map-wrap .go-list",function(e){e.preventDefault(),searchMap.rentshopMarker&&(searchMap.rentshopMarker.setMap(null),searchMap.rentshopMarker=null),a.addClass("list").removeClass("re-search rentshop-position"),$("header").removeClass("no-shadow"),a.data("detail")&&a.data("detail",!1),i.find("li.item").removeClass("on"),setTimeout(function(){searchMap.map.relayout(),searchMap.map.panTo(searchMap.center)},400)}).on("init",".list-content-wrap .list-scroll .page",function(e){e.stopPropagation();var s=$(this),t=a.offset();scrollTarget.scrollTop();s.find("li.item").each(function(){var a=$(this),e=a.offset();window.listItemOffset.push({$item:a,offset:e.top-t.top})}),s.addClass("init"),scrollTarget.trigger("scroll")}).on("click",".list-content-wrap .list-scroll .page li.item button.show-location",function(a){a.stopPropagation(),$(this).parent().trigger("goRentshop")}).on("goRentshop",".list-content-wrap .list-scroll .page li.item",function(e){e.stopPropagation();var s=$(this),t=s.data("rentshop");a.removeClass("list detail").addClass("rentshop-position"),$("header").removeClass("no-shadow"),$("body").removeClass("header-hide show-go-top"),searchMap.rentshopMarker&&(searchMap.rentshopMarker.setMap(null),searchMap.rentshopMarker=null);for(var r=a.data("rentshopDetail"),i=0;i<r.length;i++)if(r[i].idx==t){var o=new daum.maps.LatLng(r[i].lat,r[i].lng),n=r[i].addr1.split(" "),l='<div class="info"><div class="name">'+r[i].affiliate+'</div><div class="address">'+n.slice(0,n.length>3&&("고양시"==n[1]||"성남시"==n[1])?4:3).join(" ")+'</div><div class="time"><div class="title">운영시간</div><div class="data">평일('+r[i].s1time1+" ~ "+r[i].s1time2+")<br />주말/공휴일("+r[i].s2time1+" ~ "+r[i].s2time2+')</div></div><div class="cars"><div class="title">운영차량 <span class="description">(이용가능/전체차량)</span></div><div class="data">'+r[i].availcar+"대/"+r[i].totalcar+"대</div></div></div>",c='<div class="marker rentshop-info on" id="rentshop'+r[i].idx+'">'+l+"</div>",p=new daum.maps.CustomOverlay({position:o,content:c,yAnchor:1});p.setMap(searchMap.map),searchMap.rentshopMarker=p,setTimeout(function(){searchMap.map.relayout(),searchMap.map.setCenter(o),searchMap.map.panBy(0,-120)},200)}}).on("click",".list-search-wrap .close-search",function(){a.removeClass("filter"),scrollTarget.scrollTop(0),clearTimeout(searchMap.timeout),searchMap.timeout=setTimeout(function(){searchMap.map.relayout(),searchMap.map.setCenter(searchMap.center)},300)}).on("click",".list-search-wrap .list-search-submit",function(){a.removeClass("filter"),scrollTarget.scrollTop(0),e.trigger("resetList").submit()}).on("click",".list-content-wrap .grade-info button.option",function(){e.trigger("resetList").submit()}),$("header").addClass("no-shadow"),runLocationTask()});
//# sourceMappingURL=rentking.m.search.min.js.map
