{"version":3,"sources":["rentking.m.js"],"names":["$","window","isMobile","$window","isMain","hasClass","$header","$body","document","on","e","toggleClass","$sdate","$edate","sdate","moment","val","edate","$infoSDate","find","$infoEDate","$infoLength","lengthText","text","format","months","Math","floor","diff","days","ceil","clone","add","hours","trigger","scrollTop","time","animate","headerHeight","outerHeight","scrollStartPosition","documentElement","body","addClass","removeClass","move"],"mappings":";;;AAIAA,EAAE,WACDC,OAAOC,UAAW,CAClB,IAAIC,GAAUH,EAAEC,QACZG,EAASJ,EAAE,QAAQK,SAAS,QAC5BC,EAAUN,EAAE,UACZO,EAAQP,EAAE,OAEdA,GAAEQ,UACAC,GAAG,QAAS,sCAAuC,SAAUC,GAC7DJ,EAAQK,YAAY,UAEpBF,GAAG,UAAW,SAAU,SAASC,GACjC,GAAIE,GAASZ,EAAE,UACXa,EAASb,EAAE,UACXc,EAAQC,OAAOH,EAAOI,OACtBC,EAAQF,OAAOF,EAAOG,OACtBE,EAAaZ,EAAQa,KAAK,gCAC1BC,EAAad,EAAQa,KAAK,gCAC1BE,EAAcf,EAAQa,KAAK,iCAC3BG,EAAa,EAEjBJ,GAAWK,KAAKT,EAAMU,OAAO,qBAC7BJ,EAAWG,KAAKN,EAAMO,OAAO,oBAE7B,IAAIC,GAASC,KAAKC,OAAOb,EAAMc,KAAKX,EAAO,KAAK,GAChD,IAAGQ,EAAS,EAAG,CACd,GAAII,GAAOH,KAAKI,MAAMhB,EAAMiB,QAAQC,IAAIP,EAAQ,KAAKG,KAAKX,EAAMc,QAAS,KAAK,GAE9ET,GAAa,KAAOG,EAAS,KAC1BI,EAAO,IACTP,GAAc,IAAMO,EAAO,KAE5BP,GAAc,KACdD,EAAYE,KAAKD,OACX,CACN,GAAIO,GAAOH,KAAKC,OAAOb,EAAMc,KAAKX,EAAO,KAAK,IAC1CgB,GAASnB,EAAMiB,QAAQC,IAAIH,EAAM,KAAKD,KAAKX,EAAO,KAAK,EAE3DK,GAAa,KAAOO,EAAO,IACxBI,EAAQ,IACVX,GAAc,IAAMW,EAAQ,MAE7BX,GAAc,KACdD,EAAYE,KAAKD,MAGlBb,GAAG,cAAe,SAAU,SAASC,GACrCJ,EAAQ4B,QAAQ,aAEhBzB,GAAG,cAAe,SAAU,SAASC,GACrCJ,EAAQ4B,QAAQ,aAEhBzB,GAAG,QAAS,UAAW,SAASC,GAChC,GAAIyB,GAAYnC,EAAEC,QAAQkC,YACtBC,EAAOD,EAAY,IAAM,GAC1BC,GAAO,MACTA,EAAO,KACRpC,EAAE,cAAcqC,SAASF,UAAY,GAAIC,KAI3C9B,EAAQ4B,QAAQ,UAEhB,IAAII,GAAehC,EAAQiC,cACvBC,GAAuB,CAC3BrC,GAAQM,GAAG,aAAc,SAASC,GACjC8B,EAAsBhC,SAASiC,gBAAgBN,WAAa3B,SAASkC,KAAKP,YAG3EhC,EAAQM,GAAG,WAAY,SAASC,GAC/B8B,EAAsBhC,SAASiC,gBAAgBN,WAAa3B,SAASkC,KAAKP,YAI3EhC,EAAQM,GAAG,SAAU,SAASC,GAC7B,GAAIyB,GAAY3B,SAASiC,gBAAgBN,WAAa3B,SAASkC,KAAKP,SACpE,IAAG/B,EACC+B,EAAY,EACd7B,EAAQqC,SAAS,QAEjBrC,EAAQsC,YAAY,YAEf,CACN,GAAGJ,GAAuB,EAAG,CAC5B,GAAIK,GAAOV,EAAYK,CACpBK,GAAO,IAAMV,EAAYG,GAC3BE,EAAsBL,EACtB7B,EAAQsC,YAAY,QACpBrC,EAAMoC,SAAS,gBACNE,GAAQ,KACjBL,EAAsBL,EACtB5B,EAAMqC,YAAY,gBAIjBT,EAAY,GACd5B,EAAMqC,YAAY,eAEfC,EAAO,GACTtC,EAAMqC,YAAY,eACTC,GAAQ,IACjBtC,EAAMoC,SAAS","file":"rentking.m.min.js","sourcesContent":["/**\r\n  * Date: 2017-04-25\r\n */\r\n\r\n$(function() {\r\n\twindow.isMobile = true;\r\n\tvar $window = $(window);\r\n\tvar isMain = $('html').hasClass('main');\r\n\tvar $header = $('header');\r\n\tvar $body = $('body');\r\n\r\n\t$(document)\r\n\t\t.on('click', 'header .searchbar-wrap .info button', function (e) {\r\n\t\t\t$header.toggleClass('open');\r\n\t\t})\r\n\t\t.on('setDate', 'header', function(e) {\r\n\t\t\tvar $sdate = $('#sdate');\r\n\t\t\tvar $edate = $('#edate');\r\n\t\t\tvar sdate = moment($sdate.val());\r\n\t\t\tvar edate = moment($edate.val());\r\n\t\t\tvar $infoSDate = $header.find('.searchbar-wrap .info .sdate');\r\n\t\t\tvar $infoEDate = $header.find('.searchbar-wrap .info .edate');\r\n\t\t\tvar $infoLength = $header.find('.searchbar-wrap .info .length');\r\n\t\t\tvar lengthText = '';\r\n\r\n\t\t\t$infoSDate.text(sdate.format('YYYY-MM-DD HH:mm'));\r\n\t\t\t$infoEDate.text(edate.format('YYYY-MM-DD HH:mm'));\r\n\r\n\t\t\tvar months = Math.floor(-sdate.diff(edate, 'M', true));\r\n\t\t\tif(months > 0) {\r\n\t\t\t\tvar days = Math.ceil(-sdate.clone().add(months, 'M').diff(edate.clone(), 'd', true));\r\n\r\n\t\t\t\tlengthText = '[ ' + months + '개월';\r\n\t\t\t\tif(days > 0) {\r\n\t\t\t\t\tlengthText += ' ' + days + '일';\r\n\t\t\t\t}\r\n\t\t\t\tlengthText += ' ]';\r\n\t\t\t\t$infoLength.text(lengthText);\r\n\t\t\t} else {\r\n\t\t\t\tvar days = Math.floor(-sdate.diff(edate, 'd', true));\r\n\t\t\t\tvar hours = -sdate.clone().add(days, 'd').diff(edate, 'H', true);\r\n\r\n\t\t\t\tlengthText = '[ ' + days + '일';\r\n\t\t\t\tif(hours > 0) {\r\n\t\t\t\t\tlengthText += ' ' + hours + '시간';\r\n\t\t\t\t}\r\n\t\t\t\tlengthText += ' ]';\r\n\t\t\t\t$infoLength.text(lengthText);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.on('dateChanged', '#sdate', function(e) {\r\n\t\t\t$header.trigger('setDate');\r\n\t\t})\r\n\t\t.on('dateChanged', '#edate', function(e) {\r\n\t\t\t$header.trigger('setDate');\r\n\t\t})\r\n\t\t.on('click', '.go-top', function(e) {\r\n\t\t\tvar scrollTop = $(window).scrollTop();\r\n\t\t\tvar time = scrollTop / 800 * 800;\r\n\t\t\tif(time > 800)\r\n\t\t\t\ttime = 800;\r\n\t\t\t$('html, body').animate({'scrollTop':0}, time);\r\n\t\t})\r\n\t;\r\n\r\n\t$header.trigger('setDate');\r\n\r\n\tvar headerHeight = $header.outerHeight();\r\n\tvar scrollStartPosition = -1;\r\n\t$window.on('touchstart', function(e) {\r\n\t\tscrollStartPosition = document.documentElement.scrollTop || document.body.scrollTop;\r\n\t});\r\n\r\n\t$window.on('touchend', function(e) {\r\n\t\tscrollStartPosition = document.documentElement.scrollTop || document.body.scrollTop;\r\n\t});\r\n\r\n\t//메인 헤더\r\n\t$window.on('scroll', function(e) {\r\n\t\tvar scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\r\n\t\tif(isMain) {\r\n\t\t\tif(scrollTop > 0) {\r\n\t\t\t\t$header.addClass('mask');\r\n\t\t\t} else {\r\n\t\t\t\t$header.removeClass('mask');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif(scrollStartPosition > -1) {\r\n\t\t\t\tvar move = scrollTop - scrollStartPosition;\r\n\t\t\t\tif(move > 10 && scrollTop > headerHeight) {\r\n\t\t\t\t\tscrollStartPosition = scrollTop;\r\n\t\t\t\t\t$header.removeClass('open');\r\n\t\t\t\t\t$body.addClass('header-hide');\r\n\t\t\t\t} else if(move < -10) {\r\n\t\t\t\t\tscrollStartPosition = scrollTop;\r\n\t\t\t\t\t$body.removeClass('header-hide');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(scrollTop < 40) {\r\n\t\t\t\t$body.removeClass('show-go-top');\r\n\t\t\t} else {\r\n\t\t\t\tif(move > 10) {\r\n\t\t\t\t\t$body.removeClass('show-go-top');\r\n\t\t\t\t} else if(move < -10){\r\n\t\t\t\t\t$body.addClass('show-go-top');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});"],"sourceRoot":"../../src/js"}