$(function(){var a=$("#paymentDescription"),t=$("#paymentAmount"),n=$("#coupon"),e=$("#reservationForm"),r=$("#paymentForm"),o=$("#totalPrice");$(document).on("calc","#paymentAmount",function(a){a.stopPropagation(),o.trigger("animate");var n=parseInt(t.data("amount"))+parseInt(t.data("delcharge")),e=t.data("coupon");if(void 0!==e&&0!=e){var r=!1;(""+e).indexOf("%")>-1&&(r=!0);var i=parseFloat(e);r&&(i=100*Math.floor(n*i/1e4)),n-=i}var p=t.data("promotion");if(void 0!==p&&0!=p){var c=!1;(""+p).indexOf("%")>-1&&(c=!0);var d=parseFloat(p);c&&(d=100*Math.floor(n*d/1e4)),n-=d,$("#discount").data("target",d).trigger("animate")}t.data("target",n<0?0:n).trigger("animate")}).on("change",'input[name="payType"]',function(n){var e=$(this).val();a.find("span").removeClass("text-point");var r=$("#buymethod");1==e?(t.data("amount",parseInt(t.data("all"))),a.find("span.all").addClass("text-point"),r.val("C")):(t.data("amount",parseInt(t.data("month"))),a.find("span.month").addClass("text-point"),r.val("F")),t.trigger("calc")}).on("change",'input[name="ptype"]',function(a){var n=$(this).val(),e=$("#carImage"),r=$("#positionRentshop"),i=$("#positionPickup"),p=$("#positionReturn"),c=$("#delCharge"),d=parseInt($('input[name="delcharge"]').val());1==n?(e.attr("rowspan",5),r.hide(),i.show(),p.show(),c.show(),o.data("target",parseInt(o.data("totalAccount"))+d),t.data("delcharge",d).trigger("calc")):(e.attr("rowspan",4),r.show(),i.hide(),p.hide(),c.hide(),o.data("target",parseInt(o.data("totalAccount"))),t.data("delcharge",0).trigger("calc"))}).on("change","#coupon",function(a){var e=n.find("option:selected").data("account");t.data("coupon",e).trigger("calc")}).on("submit","#reservationForm",function(a){var n=$(this);if(!n.data("payment")){a.preventDefault();var o=$("#agreeCancel"),i=$("#agreeTransaction"),p=null,c=$('input[name="ptype"]'),d=$("#buymethod").val(),l=$("input[name=payType]").val();if(c.length>1){if(c.filter(":checked").length<1)return alert("대여방법을 선택해주세요"),$(c[0]).focus(),!1;if(1==$("input[name=ptype]:checked").val()){var u=$("input[name=nums]").val(),s=$("input[name=date1]").val(),m=$("input[name=date2]").val();if(""==u||""==s||""==m)return alert('대여방법이 "배달대여"일 경우 제1운전자 면허정보는 필수 입력사항 입니다.'),!1;if(u.length<10)return alert("제1운전자 면허번호를 올바르게 입력해주시기 바랍니다."),$("input[name=nums]").focus(),!1}}if(p||o[0].checked||(p=o),p||i[0].checked||(p=i),p)return alert(p.data("title")+"에 동의하셔야합니다."),p.focus(),!1;var g=e.attr("action");if(t.data("current")<=0){if("F"==d&&"2"==l)return alert('쿠폰등의 할인을 통한 결제금액이 0원일 경우,\n결제 방법은 "전액결제"로만 진행 가능합니다.'),!1;if(!confirm("결제금액이 0원이므로, 결제정보 입력 절차 없이 바로 예약이 진행됩니다.\n\n예약을 진행하시겠습니까?"))return!1;g="/payment/allat_payment.php"}n.data("running")||$.post(g,e.serializeArray()).done(function(a){r.html(a)})}}),t.trigger("calc")});
//# sourceMappingURL=rentking.reservation.min.js.map
